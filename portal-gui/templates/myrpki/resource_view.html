{% extends "base.html" %}

{% block content %}
<p>Handle: <a href="/myrpki/">{{ request.session.handle }}</a>
<h1>{{resource_type.capitalize}} View</h1>
<table>
    <tr>
        <td>Range:</td><td>{{ addr }}</td>
    </tr>
    <tr>
        <td>Received from:</td>
        <td>
            {% for p in parent %}
            <a href="{{ p.get_absolute_url }}">{{ p.handle }}</a>
            {% endfor %}
        </td>
    </tr>
    <tr><td>Validity:</td><td>{{ addr.from_cert.all.0.not_before }} - {{ addr.from_cert.all.0.not_after }} </td></tr>
    {% if addr.parent %}
    <tr>
        <td>Suballocated from:</td>
        <td><a href="{{ addr.parent.get_absolute_url }}">{{ addr.parent }}</a></td>
    </tr>
    {% endif %}
</table>

<h2>Suballocations</h2>

{% if addr.children.count %}

<ul>
{% for subaddr in addr.children.all %}
<li><a href="{{ subaddr.get_absolute_url }}">{{ subaddr }}</a>
{% endfor %}
</ul>

{% else %}

<p>--none--

{% endif %}

<div>
<h2>Delegate</h2>

<p>Child:
<!--
<form action="{{ request.url }}" method="post">
    {{ form.as_p }}
    <p><input type="submit" value="Submit">
</form>
-->
</div>

{% if resource_type == 'prefix' %}
<div>
<h2>Originate</h2>
<p>ASNs allowed to originate routes for this prefix:
</div>

{% endif %}

{% endblock %}

// Automatically generated from rpkid.sql

digraph test {
	edge [arrowtail=none, arrowhead=crow];
	graph [ratio=fill, overlap=false, bgcolor=white];
	node [label="\N", fillcolor=white, shape=record, style=filled];
	self [label="{self\n|self_id\ SERIAL\ [PK]\lself_handle\ VARCHAR\ [U]\luse_hsm\ BOOLEAN\lcrl_interval\ BIGINT\lregen_margin\ BIGINT\lbpki_cert\ LONGBLOB\lbpki_glue\ LONGBLOB\l}"];
	bsc [label="{bsc\n|bsc_id\ SERIAL\ [PK]\lbsc_handle\ VARCHAR\ [U]\lprivate_key_id\ LONGBLOB\lpkcs10_request\ LONGBLOB\lhash_alg\ ENUM\lsigning_cert\ LONGBLOB\lsigning_cert_crl\ LONGBLOB\lself_id\ BIGINT\ [FK]\l}"];
	repository [label="{repository\n|repository_id\ SERIAL\ [PK]\lrepository_handle\ VARCHAR\ [U]\lpeer_contact_uri\ TEXT\lbpki_cms_cert\ LONGBLOB\lbpki_cms_glue\ LONGBLOB\lbpki_https_cert\ LONGBLOB\lbpki_https_glue\ LONGBLOB\lbsc_id\ BIGINT\ [FK]\lself_id\ BIGINT\ [FK]\l}"];
	parent [label="{parent\n|parent_id\ SERIAL\ [PK]\lparent_handle\ VARCHAR\ [U]\lbpki_cms_cert\ LONGBLOB\lbpki_cms_glue\ LONGBLOB\lbpki_https_cert\ LONGBLOB\lbpki_https_glue\ LONGBLOB\lpeer_contact_uri\ TEXT\lsia_base\ TEXT\lsender_name\ TEXT\lrecipient_name\ TEXT\lself_id\ BIGINT\ [FK]\lbsc_id\ BIGINT\ [FK]\lrepository_id\ BIGINT\ [FK]\l}"];
	ca [label="{ca\n|ca_id\ SERIAL\ [PK]\llast_crl_sn\ BIGINT\llast_manifest_sn\ BIGINT\lnext_manifest_update\ DATETIME\lnext_crl_update\ DATETIME\llast_issued_sn\ BIGINT\lsia_uri\ TEXT\lparent_resource_class\ TEXT\lparent_id\ BIGINT\ [FK]\l}"];
	ca_detail [label="{ca_detail\n|ca_detail_id\ SERIAL\ [PK]\lpublic_key\ LONGBLOB\lprivate_key_id\ LONGBLOB\llatest_crl\ LONGBLOB\llatest_ca_cert\ LONGBLOB\lmanifest_private_key_id\ LONGBLOB\lmanifest_public_key\ LONGBLOB\llatest_manifest_cert\ LONGBLOB\llatest_manifest\ LONGBLOB\lstate\ ENUM\lca_cert_uri\ TEXT\lca_id\ BIGINT\ [FK]\l}"];
	child [label="{child\n|child_id\ SERIAL\ [PK]\lchild_handle\ VARCHAR\ [U]\lbpki_cert\ LONGBLOB\lbpki_glue\ LONGBLOB\lself_id\ BIGINT\ [FK]\lbsc_id\ BIGINT\ [FK]\l}"];
	child_cert [label="{child_cert\n|child_cert_id\ SERIAL\ [PK]\lcert\ LONGBLOB\lski\ TINYBLOB\lchild_id\ BIGINT\ [FK]\lca_detail_id\ BIGINT\ [FK]\l}"];
	revoked_cert [label="{revoked_cert\n|revoked_cert_id\ SERIAL\ [PK]\lserial\ BIGINT\lrevoked\ DATETIME\lexpires\ DATETIME\lca_detail_id\ BIGINT\ [FK]\l}"];
	route_origin [label="{route_origin\n|route_origin_id\ SERIAL\ [PK]\lroute_origin_handle\ VARCHAR\ [U]\las_number\ DECIMAL\lcert\ LONGBLOB\lroa\ LONGBLOB\lself_id\ BIGINT\ [FK]\lca_detail_id\ BIGINT\ [FK]\l}"];
	route_origin_prefix [label="{route_origin_prefix\n|address\ VARCHAR\ [PK]\lprefixlen\ TINYINT\ [PK]\lmax_prefixlen\ TINYINT\ [PK]\lroute_origin_id\ BIGINT\ [PK,FK]\l}"];
	bsc -> child;
	bsc -> parent;
	bsc -> repository;
	ca -> ca_detail;
	ca_detail -> child_cert;
	ca_detail -> revoked_cert;
	ca_detail -> route_origin;
	child -> child_cert;
	parent -> ca;
	repository -> parent;
	route_origin -> route_origin_prefix;
	self -> bsc;
	self -> child;
	self -> parent;
	self -> repository;
	self -> route_origin;
}

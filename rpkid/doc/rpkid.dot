// Automatically generated from rpkid.sql

digraph test {
	edge [arrowtail=none, arrowhead=crow];
	graph [ratio=fill, overlap=false, bgcolor=white];
	node [label="\N", fillcolor=white, shape=record, style=filled];
	self [label="self|{self_id\ SERIAL\ \[PK\]|use_hsm\ BOOLEAN|crl_interval\ BIGINT|regen_margin\ BIGINT|bpki_cert\ LONGBLOB|bpki_glue\ LONGBLOB}"];
	bsc [label="bsc|{bsc_id\ SERIAL\ \[PK\]|private_key_id\ LONGBLOB|pkcs10_request\ LONGBLOB|hash_alg\ ENUM|signing_cert\ LONGBLOB|signing_cert_crl\ LONGBLOB|self_id\ BIGINT\ \[FK\]}"];
	repository [label="repository|{repository_id\ SERIAL\ \[PK\]|peer_contact_uri\ TEXT|bpki_cms_cert\ LONGBLOB|bpki_cms_glue\ LONGBLOB|bpki_https_cert\ LONGBLOB|bpki_https_glue\ LONGBLOB|bsc_id\ BIGINT\ \[FK\]|self_id\ BIGINT\ \[FK\]}"];
	parent [label="parent|{parent_id\ SERIAL\ \[PK\]|bpki_cms_cert\ LONGBLOB|bpki_cms_glue\ LONGBLOB|bpki_https_cert\ LONGBLOB|bpki_https_glue\ LONGBLOB|peer_contact_uri\ TEXT|sia_base\ TEXT|sender_name\ TEXT|recipient_name\ TEXT|self_id\ BIGINT\ \[FK\]|bsc_id\ BIGINT\ \[FK\]|repository_id\ BIGINT\ \[FK\]}"];
	ca [label="ca|{ca_id\ SERIAL\ \[PK\]|last_crl_sn\ BIGINT|last_manifest_sn\ BIGINT|next_manifest_update\ DATETIME|next_crl_update\ DATETIME|last_issued_sn\ BIGINT|sia_uri\ TEXT|parent_resource_class\ TEXT|parent_id\ BIGINT\ \[FK\]}"];
	ca_detail [label="ca_detail|{ca_detail_id\ SERIAL\ \[PK\]|public_key\ LONGBLOB|private_key_id\ LONGBLOB|latest_crl\ LONGBLOB|latest_ca_cert\ LONGBLOB|manifest_private_key_id\ LONGBLOB|manifest_public_key\ LONGBLOB|latest_manifest_cert\ LONGBLOB|latest_manifest\ LONGBLOB|state\ ENUM|ca_cert_uri\ TEXT|ca_id\ BIGINT\ \[FK\]}"];
	child [label="child|{child_id\ SERIAL\ \[PK\]|bpki_cert\ LONGBLOB|bpki_glue\ LONGBLOB|self_id\ BIGINT\ \[FK\]|bsc_id\ BIGINT\ \[FK\]}"];
	child_cert [label="child_cert|{child_cert_id\ SERIAL\ \[PK\]|cert\ LONGBLOB|ski\ TINYBLOB|child_id\ BIGINT\ \[FK\]|ca_detail_id\ BIGINT\ \[FK\]}"];
	revoked_cert [label="revoked_cert|{revoked_cert_id\ SERIAL\ \[PK\]|serial\ BIGINT|revoked\ DATETIME|expires\ DATETIME|ca_detail_id\ BIGINT\ \[FK\]}"];
	route_origin [label="route_origin|{route_origin_id\ SERIAL\ \[PK\]|as_number\ DECIMAL|exact_match\ BOOLEAN|cert\ LONGBLOB|roa\ LONGBLOB|self_id\ BIGINT\ \[FK\]|ca_detail_id\ BIGINT\ \[FK\]}"];
	route_origin_prefix [label="route_origin_prefix|{address\ VARCHAR\ \[PK\]|prefixlen\ TINYINT\ \[PK\]|max_prefixlen\ TINYINT\ \[PK\]|route_origin_id\ BIGINT\ \[PK,FK\]}"];
	bsc -> child;
	bsc -> parent;
	bsc -> repository;
	ca -> ca_detail;
	ca_detail -> child_cert;
	ca_detail -> revoked_cert;
	ca_detail -> route_origin;
	child -> child_cert;
	parent -> ca;
	repository -> parent;
	route_origin -> route_origin_prefix;
	self -> bsc;
	self -> child;
	self -> parent;
	self -> repository;
	self -> route_origin;
}

$Id$

Rough plan for initial prototype RE.

1) Hack quick cert generator [done]

2) Hack xml-parse-test into something that can:

 - Generate (XML::Simple?) XML
 - Encode XML in CMS using specified signing key and certs
 - Write that to a destination file

 - Pick up signed CMS from from a file
 - Check CMS signatures and extract XML
 - Validate (xmllint --relaxng) the XML
 - Decode (XML::Simple) the XML and dump the result

 Log everything as we go and use Data::Dumper to log content of Perl
 data structures.

 APNIC is specifying schema in RNC (RelaxNG Compact) syntax, xmllint
 wants RNG (RelaxNG XML) syntax, so use /usr/ports/textproc/trang to
 convert:

    $ trang foo.rnc foo.rng

3) Whack (2) into something that does this over minimal HTTP.

4) [to be continued...]



More fun with RelaxNG:

The current schema is not very tight.  See RelaxNG reference for how
to tighten it up if we think that'd be useful.  RelaxNG supports
regexps, among other things:

   xsd:decimal {pattern = "1|1\.5"}

RelaxNG (and XML Schema) regular expressions ("patterns") are
implicitly anchored, you need to prefix (and suffix?) with ".*" if you
want to match only part of the field.
